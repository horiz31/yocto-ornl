MACHINE ??= 'var-som-mx6-ornl'
DISTRO ?= 'fslc-framebuffer'
PACKAGE_CLASSES ?= "package_rpm"
EXTRA_IMAGE_FEATURES ?= "tools-debug tools-sdk"
USER_CLASSES ?= "buildstats image-mklibs image-prelink"
PATCHRESOLVE = "noop"

BB_DISKMON_DIRS ??= "\
    STOPTASKS,${TMPDIR},1G,100K \
    STOPTASKS,${DL_DIR},1G,100K \
    STOPTASKS,${SSTATE_DIR},1G,100K \
    STOPTASKS,/tmp,100M,100K \
    ABORT,${TMPDIR},100M,1K \
    ABORT,${DL_DIR},100M,1K \
    ABORT,${SSTATE_DIR},100M,1K \
    ABORT,/tmp,10M,1K"
PACKAGECONFIG_append_pn-qemu-native = " sdl"
PACKAGECONFIG_append_pn-nativesdk-qemu = " sdl"
CONF_VERSION = "1"
ACCEPT_FSL_EULA = "1"

# http://lists.openembedded.org/pipermail/openembedded-core/2013-November/086898.html
#PARALLEL_MAKE ?= "-j ${GB}"
#BB_NUMBER_THREADS ?= "${CPUS}"

DISTRO_FEATURES_append = " systemd"
VIRTUAL-RUNTIME_init_manager = "systemd"
DISTRO_FEATURES_BACKFILL_CONSIDERED = "pulseaudio sysvinit bluez5"
VIRTUAL-RUNTIME_initscripts = ""
# IMX_DEFAULT_DISTRO_FEATURES_append = " systemd"
VOLATILE_LOG_DIR = "yes"

# https://wiki.yoctoproject.org/wiki/Setting_up_a_local_instance_of_Toaster
INHERIT+="toaster buildhistory"
BUILDHISTORY_COMMIT = "1"
